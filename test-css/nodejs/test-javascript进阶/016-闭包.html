<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>016-闭包.html</title>
	<style>
		*{
			width: 3000px;
			height: 3000px;
		}
	</style>
	<script>
		// function fn(){
		// 	var n = 1;
		// 	add = function(){
		// 		n++;
		// 	}
		// 	return function(){
		// 		return n;
		// 	}
		// }
		// var result = fn();
		// console.log(result());
		// add();
		// console.log(result());


//节流
		// function throttle(fn,wait){
		// 	var lastTime = Date.now();
		// 	return function(){
		// 		var currentTime = Date.now();
		// 		if(currentTime-lastTime>wait){
		// 			fn();
		// 			lastTime = Date.now()
		// 		}
		// 	}
		// }
		// var i = 0;
		// window.onscroll = throttle(function(){
		// 	console.log(i++)
		// },500)

//防止抖动
	var i = 0;
	function debounce(fn,delay){
		var timer = 0;
		return function(){
			clearTimeout(timer)
			timer = setTimeout(fn,delay)
		}
	}
	window.onscroll = debounce(function(){
			console.log(i++)
		},500)



	</script>
</head>
<body>
	
</body>
</html>